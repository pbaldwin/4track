{"ts":1364964116539,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/* Author:\n\tPatrick Baldwin\n*/\n\njQuery(document).ready(function($) {\n\t// Stuff to do as soon as the DOM is ready. Use $() w/o colliding with other libs;\n\tvar $tracks = $('.track'),\n\t\t$playbackControls = $('.control-button'),\n\t\t$volumeControls = $('.volume'),\n\t\t$muteControls = $('.mute'),\n\t\tmasterVolume = 0,\n\t\tcurrentTime = 0;\n\n\t// Sync time across all tracks.\n\tfunction syncTime() {\n\t\tfor (i = 0; i < $tracks.length; i++) {\n\t\t\t$tracks[i].currentTime = currentTime;\n\t\t}\n\t}\n\n\tfunction playbackControl(control) {\n\n\t\tif (control === \"pause\") {\n\t\t\tcurrentTime = $tracks[0].currentTime;\n\t\t}\n\n\t\tif (control === \"stop\") {\n\t\t\tcurrentTime = 0,\n\t\t\tcontrol = \"pause\";\n\t\t}\n\n\t\tsyncTime();\n\n\t\t$tracks.trigger(control);\n\t}\n\n\tfunction volumeControl(control, level) {\n\t\tif (control === \"master\") {\n\t\t\tfor (i = 0; i < $tracks.length; i++) {\n\t\t\t\tvar trackLevel = $volumeControls.eq(i).attr('value') / 100 - masterVolume;\n\t\t\t\tif ( trackLevel > 0 ) {\n\t\t\t\t\t$tracks[i].volume = trackLevel;\n\t\t\t\t} else {\n\t\t\t\t\t$tracks[i].volume = 0;\n\t\t\t\t}\n\t\t\t} \n\t\t} else {\n\t\t\tvar trackNumber = control.slice(5,6) - 1,\n\t\t\tlevel = level / 100 - masterVolume;\n\t\t\tif (level > 0) {\n\t\t\t\t$tracks[trackNumber].volume = level;\n\t\t\t} else {\n\t\t\t\t$tracks[trackNumber].volume = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction muteControl(control, mute) {\n\t\tvar track = $tracks[control.slice(5,6) - 1];\n\t\tif (mute) {\n\t\t\ttrack.muted = true;\n\t\t} else {\n\t\t\ttrack.muted = false;\n\t\t}\n\n\t}\n\n\t$playbackControls.click( function() {\n\t\tvar controlName = $(this).attr('rel');\n\t\tplaybackControl(controlName);\n\t});\n\n\t$volumeControls.change( function() {\n\t\tvar $this = $(this),\n\t\t\tcontrolName = $this.attr('name'),\n\t\t\tcontrolLevel = $this.attr('value');\n\n\t\tif (controlName === \"master\") {\n\t\t\tmasterVolume = Math.abs(controlLevel / 100);\n\t\t}\n\n\t\tvolumeControl(controlName, controlLevel);\n\t\t//console.log(masterVolume);\n\t});\n\n\t$muteControls.click( function() {\n\t\tvar $this = $(this),\n\t\t\tcontrolName = $this.attr('name'),\n\t\t\tmute = false;\n\n\t\tif ($this.is(':checked')) {\n\t\t\tmute = true;\n\t\t} else {\n\t\t\tmute = false;\n\t\t}\n\n\t\tmuteControl(controlName, mute);\n\t});\n\n});\n\n\n\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":2071}]],"length":2071}
{"contributors":[],"silentsave":false,"ts":1364964172763,"patch":[[{"diffs":[[0,"() {\n\t\tfor ("],[1,"var "],[0,"i = 0; i < $"]],"start1":380,"start2":380,"length1":24,"length2":28}]],"length":2075,"saved":false}
{"ts":1364964536507,"patch":[[{"diffs":[[0,"\t\t\tfor ("],[1,"var "],[0,"i = 0; i"]],"start1":786,"start2":786,"length1":16,"length2":20},{"diffs":[[0,"5,6) - 1"],[-1,","],[1,";"],[0,"\n\t\t\t"],[1,"\n            "],[0,"level = "]],"start1":1075,"start2":1075,"length1":21,"length2":34}]],"length":2092,"saved":false}
